{% extends 'admin_template/admin_base.html' %}

{% block page_title %}
upload
{% endblock page_title %}

{% block main_content %}
<style>
    .table-container {
        max-width: 100%;
        height: 100%;
        overflow-y: auto;
    }

    table,
    th,
    td {
        border: 1px solid black;
    }

    th,
    td {
        font-size: 10px;
        padding: 5px;
        text-align: center;

    }

    td {
        color: #737F8B;
    }

    .search-icon {
        border: none;
        color: #1F3BB3;
        background: transparent;
    }

    .search-icon:hover {
        color: #000000;
        border-radius: 0;
    }

  

    .menu * {
        font-size: 12px;
        text-decoration: none;
        border: none;
        background: none;
        color: #1F3BB3;
        text-align: center;
    }

    .menu *:hover {
        color: #000000;
        background: #dadada;
        
    }

    #action {
        background: none;
        border: none;
    }

    .school_info>div {
        margin: 10px;
    }
</style>
</style>
<div class="container-fluid  ">
    <div class="sf10">
        <div class="card-body">

            <div class="card p-5">


                <div class="d-flex justify-content-between align-items-center mb-4 p-1">
                    <h3>School Information</h3>
                    {% if school_info %}
                    {% for school in school_info %}
                    <!-- If school_info is not empty, hide the button -->
                    <div style="display: none;">
                        <a class="btn btn-success btn-sm" href="{% url 'add_school' %}">Create School Info</a>
                    </div>
                    <div class="btn-group">
                        <button type="button" id="action"
                            class="btn btn-secondary btn-dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown">
                            <svg class="c-qd" width="20px" height="20px" viewBox="0 0 20 20" focusable="false"
                                fill="blue">
                                <path fill="none" d="M0 0h20v20H0V0z"></path>
                                <path
                                    d="M10 6c.82 0 1.5-.68 1.5-1.5S10.82 3 10 3s-1.5.67-1.5 1.5S9.18 6 10 6zm0 5.5c.82 0 1.5-.68 1.5-1.5s-.68-1.5-1.5-1.5-1.5.68-1.5 1.5.68 1.5 1.5 1.5zm0 5.5c.82 0 1.5-.67 1.5-1.5 0-.82-.68-1.5-1.5-1.5s-1.5.68-1.5 1.5c0 .83.68 1.5 1.5 1.5z">
                                </path>
                            </svg>
                        </button>
                        <!-- Dropdown menu content -->
                        <div class="dropdown-menu action p-2 " aria-labelledby="action">
                            <div class="d-flex flex-column justify-content-center align-items-center menu">
                                <a class="container" href="{% url 'edit_school' school.id %}">Edit</a>
                                <a class="container" href="{% url 'delete_school' school.id %}">Delete</a>
                            </div>


                        </div>
                    </div>
                    {% endfor %}
                    {% else %}

                    <!-- If school_info is empty, display the button -->
                    <div>
                        <a class="btn btn-success btn-sm" href="{% url 'add_school' %}">Create School Info</a>
                    </div>

                    {% endif %}
                </div>
                {% if school_info %}
                {% for school in school_info %}


                <div class="school_info">
                    <div>
                        <label class="form-text">Region:</label>
                        <input class="form-control" disabled type="text" value="{{ school.region }}"
                            name="region_{{ school.school_id }}">
                    </div>
                    <div>
                        <label class="form-text">Division:</label>
                        <input class="form-control" disabled type="text" value="{{ school.division }}"
                            name="division_{{ school.school_id }}">
                    </div>
                    <div>
                        <label class="form-text">School ID:</label>
                        <input class="form-control" disabled type="text" value="{{ school.school_id }}"
                            name="school_id_{{ school.school_id }}">
                    </div>
                    <div>
                        <label class="form-text">School Name:</label>
                        <input class="form-control" disabled type="text" value="{{ school.school_name }}"
                            name="school_name_{{ school.school_id }}">
                    </div>
                    <div>
                        <label class="form-text">District:</label>
                        <input class="form-control" disabled type="text" value="{{ school.district }}"
                            name="district_{{ school.school_id }}">
                    </div>
                    <div>
                        <label class="form-text">School Year:</label>
                        <input class="form-control" disabled type="text" value="{{ school.school_year }}"
                            name="school_year_{{ school.school_id }}">
                    </div>
                    <div>
                        <label class="form-text">Principal:</label>
                        <input class="form-control" disabled type="text" value="{{ school.principal_name }}"
                            name="principal_name_{{ school.school_id }}">
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <p class="text-muted">No school information found.</p>
                {% endif %}


            </div>
        </div>
    </div>
</div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        $(document).ready(function () {
            $('.btn-dropdown-toggle').dropdown();
        });
    });
</script>
{% endblock main_content %}